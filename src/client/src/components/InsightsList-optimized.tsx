import React, { memo } from 'react';
import { Insight } from '../types';

interface InsightsListProps {
  insights: Insight[];
}\n\nconst InsightsList: React.FC<InsightsListProps> = memo(({ insights }) => {\n  const getInsightIcon = (type: string) => {\n    switch (type) {\n      case 'pattern':\n        return 'ðŸ”';\n      case 'trend':\n        return 'ðŸ“ˆ';\n      case 'connection':\n        return 'ðŸ”—';\n      case 'recommendation':\n        return 'ðŸ’¡';\n      default:\n        return 'ðŸ§ ';\n    }\n  };\n\n  const getConfidenceColor = (confidence: number) => {\n    if (confidence >= 0.8) return '#10b981'; // green\n    if (confidence >= 0.6) return '#f59e0b'; // yellow\n    return '#ef4444'; // red\n  };\n\n  if (insights.length === 0) {\n    return (\n      <div className=\"empty-state\">\n        <div className=\"empty-state-icon\">ðŸ§ </div>\n        <h3 className=\"empty-state-title\">No Insights Yet</h3>\n        <p className=\"empty-state-text\">\n          Add more context items to generate AI-powered insights and connections.\n        </p>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"item-list\">\n      {insights.map((insight) => (\n        <InsightItem \n          key={insight.id} \n          insight={insight} \n          getInsightIcon={getInsightIcon}\n          getConfidenceColor={getConfidenceColor}\n        />\n      ))}\n    </div>\n  );\n});\n\n// Memoized individual insight item component\nconst InsightItem: React.FC<{\n  insight: Insight;\n  getInsightIcon: (type: string) => string;\n  getConfidenceColor: (confidence: number) => string;\n}> = memo(({ insight, getInsightIcon, getConfidenceColor }) => (\n  <div className=\"list-item insight-item\">\n    <div className=\"item-header\">\n      <h3 className=\"item-title\">\n        {getInsightIcon(insight.type)} {insight.title}\n      </h3>\n      <div className=\"item-meta\">\n        <span \n          className=\"confidence-badge\"\n          style={{ \n            backgroundColor: getConfidenceColor(insight.confidence),\n            color: 'white',\n            padding: '2px 8px',\n            borderRadius: '12px',\n            fontSize: '0.8em',\n            fontWeight: 'bold'\n          }}\n        >\n          {Math.round(insight.confidence * 100)}%\n        </span>\n        <span className=\"insight-type\">{insight.type}</span>\n        {insight.timestamp && (\n          <span className=\"timestamp\">\n            ðŸ•’ {new Date(insight.timestamp).toLocaleDateString()}\n          </span>\n        )}\n      </div>\n    </div>\n\n    <div className=\"item-content\">\n      {insight.description}\n    </div>\n\n    {insight.relatedContexts && insight.relatedContexts.length > 0 && (\n      <div className=\"related-contexts\">\n        <small>Related to {insight.relatedContexts.length} context item(s)</small>\n      </div>\n    )}\n\n    {insight.actionable && (\n      <div className=\"actionable-badge\">\n        âš¡ Actionable\n      </div>\n    )}\n  </div>\n));\n\nInsightsList.displayName = 'InsightsList';\nInsightItem.displayName = 'InsightItem';\n\nexport { InsightsList };